---
title: "Using a VPI"
weight: 2302
---
# Using a VPI

This guide shows how to create and use a VPI (Virtual Project Interface) using the @infrasoftbe/infrasoft-project package.

{{< callout context="tip" title="Note on Instantiation" icon="outline/lightbulb" >}}
The VPI is instantiated with the `VPI` package from the `@infrasoftbe/vnv-sdk` SDK. In the following examples, we use `@infrasoftbe/infrasoft-project` which provides the same functionalities in a real context with database interaction.
{{< /callout >}}

## VPI Initialization

The VPI is instantiated with the `VPI` package from the SDK:

```typescript
import * as vnv from '@infrasoftbe/vnv-sdk';

const JSONDump = /* your JSON dump */;

const vpi = vnv.VPI.ProjectInstance.init(JSONDump);
```

Once instantiated, the VPI is ready to be used for all project operations.

### Minimal Initialization Example

Here's how you can initialize a VNV project with a project token:

```typescript
import * as vnv from '@infrasoftbe/vnv-sdk';

// Minimal project initialization
let project = vnv.VPI.ProjectInstance.init({
  self: { token: 'my-project-token' },
  data : {
    nodes : [],
    metas : [],
    relations : [],
    structures: [],
    lists: []
  }
});
```

## Why use init()?

The `ProjectInstance.init()` method is used to initialize a VNV project by returning a `ProxyProjectInstance`. This proxy allows direct access to all layers and sub-layers of the project, which facilitates manipulations and interactions with the project.

If you simply use `new ProjectInstance(...)`, this will return an instance of `ProjectInstance`, which doesn't expose layers and sub-layers in such a convenient way. The [proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) generated by `init` encapsulates the project instance and extends its functionalities, making every aspect of the project more accessible and manipulable.

### ProxyProjectInstance Advantages

1. **Simplified access**: Direct interaction with project data
2. **Extended functionality**: Additional methods for data manipulation
3. **Optimized performance**: Direct access to data layers
4. **Automatic management**: Links and relationships managed automatically

## VPI Structure Once Initialized

Once initialized, the VPI exposes several properties and methods to interact with the project:

- **Data**: Access to nodes, relationships, metadata, structures, and lists
- **Operations**: Tracking and management of modifications
- **Utilities**: Methods for search, validation, and manipulation
- **Tokens**: Unique identifier management

The interface provided by the VPI significantly simplifies working with VNV projects by encapsulating the complexity of the raw JSON format in an intuitive and powerful API.
